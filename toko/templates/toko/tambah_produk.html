{% extends "base.html" %}
{% load form_filters %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 py-8">
  <h2 class="text-2xl font-semibold text-gray-800 mb-6">
    {% if form.instance.pk %}
      ‚úèÔ∏è Edit Produk
    {% else %}
      ‚ûï Tambah Produk
    {% endif %}
  </h2>

  <form method="post" enctype="multipart/form-data" class="space-y-5 bg-white p-6 rounded-lg shadow-md">
    {% csrf_token %}

    <div>
      <label for="{{ form.nama.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Nama Produk</label>
      {{ form.nama|add_class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" }}
      {% if form.nama.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.nama.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label for="{{ form.deskripsi.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Deskripsi</label>
      {{ form.deskripsi|add_class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" }}
      {% if form.deskripsi.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.deskripsi.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label for="{{ form.harga.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Harga</label>
      {{ form.harga|add_class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" }}
      {% if form.harga.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.harga.errors.0 }}</p>
      {% endif %}
    </div>
    <div>
        <label for="{{ form.foto_produk.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Foto Produk</label>
        
        {% if form.instance.foto_produk %}
          <img src="{{ form.instance.foto_produk.url }}" class="h-32 mb-2" alt="Foto Produk Lama">
        {% endif %}
        
        {{ form.foto_produk|add_class:"w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500" }}

        {% if form.foto_produk.errors %}
          <p class="text-red-600 text-sm mt-1">{{ form.foto_produk.errors.0 }}</p>
        {% endif %}
    </div>

    <div>
      <label for="{{ form.is_active.id_for_label }}" class="inline-flex items-center">
        {{ form.is_active|add_class:"mr-2" }}
        <span class="text-sm font-medium text-gray-700">Aktifkan Produk</span>
      </label>
      {% if form.is_active.errors %}
        <p class="text-red-600 text-sm mt-1">{{ form.is_active.errors.0 }}</p>
      {% endif %}
    </div>





    <div class="pt-4">
      <button type="submit"
        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-md shadow focus:outline-none focus:ring focus:ring-blue-300">
        üíæ Simpan
      </button>
    </div>
  </form>
</div>
{% endblock %}
